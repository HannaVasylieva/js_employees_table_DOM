{"version":3,"sources":["scripts/main.js"],"names":["table","document","querySelector","tbody","sortingOrder","editedCell","addEventListener","e","tableRows","querySelectorAll","target","tagName","place","closest","rows","length","index","children","indexOf","columnName","textContent","sort","a","b","first","innerText","second","isNaN","parseFloat","slice","localeCompare","reverse","forEach","row","append","tr","clickedRow","classList","remove","add","form","createElement","nameInput","createLabeledInputField","positionInput","officeInput","createSelectField","ageInput","salaryInput","submitButton","labelText","fieldType","nameAtr","data","label","inputField","setAttribute","appendChild","options","labelForSelect","selectList","Array","from","optionText","option","value","showNotification","title","description","className","notification","notificationTitle","notificationDescription","body","setTimeout","saveCellChanges","input","originalText","editedValue","trim","parentElement","preventDefault","newName","position","office","age","parseInt","salary","newRow","nameCell","positionCell","officeCell","ageCell","salaryCell","Math","abs","toLocaleString","reset","targetCell","ev","key","focus"],"mappings":"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","file":"main.b5070510.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst tbody = document.querySelector('tbody');\nconst sortingOrder = {};\nlet editedCell = null;\n\ntable.addEventListener('click', (e) => {\n  const tableRows = [...tbody.querySelectorAll('tr')];\n\n  if (e.target.tagName === 'TH') {\n    const place = e.target.closest('thead') ? 0 : table.rows.length - 1;\n    const index = [...table.rows[place].children].indexOf(e.target);\n    const columnName = e.target.textContent;\n\n    if (!sortingOrder[columnName]) {\n      sortingOrder[columnName] = 'asc';\n    } else if (sortingOrder[columnName] === 'asc') {\n      sortingOrder[columnName] = 'desc';\n    } else {\n      sortingOrder[columnName] = 'asc';\n    }\n\n    tableRows.sort((a, b) => {\n      const first = a.children[index].innerText;\n      const second = b.children[index].innerText;\n\n      if (isNaN(parseFloat(first.slice(1)))) {\n        return first.localeCompare(second);\n      } else {\n        if (first.slice(0, 1) === '$') {\n          return parseFloat(first.slice(1)) - parseFloat(second.slice(1));\n        }\n\n        return parseFloat(first) - parseFloat(second);\n      }\n    });\n\n    if (sortingOrder[columnName] === 'desc') {\n      tableRows.reverse();\n    }\n  }\n\n  tableRows.forEach(row => tbody.append(row));\n});\n\ntable.addEventListener('click', (tr) => {\n  const clickedRow = tr.target.closest('tbody tr');\n\n  tbody.querySelectorAll('tr').forEach(row => {\n    if (row !== clickedRow) {\n      row.classList.remove('active');\n    }\n  });\n\n  clickedRow.classList.add('active');\n});\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\nconst nameInput = createLabeledInputField('Name:', 'text', 'name', 'name');\nconst positionInput\n= createLabeledInputField('Position:', 'text', 'position', 'position');\nconst officeInput\n= createSelectField('Office:', 'select', 'office', [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco',\n]);\nconst ageInput = createLabeledInputField('Age:', 'number', 'age', 'age');\nconst salaryInput\n= createLabeledInputField('Salary:', 'number', 'salary', 'salary');\nconst submitButton = document.createElement('button');\n\nsubmitButton.setAttribute('type', 'submit');\nsubmitButton.textContent = 'Save to table';\n\nform.appendChild(nameInput);\nform.appendChild(positionInput);\nform.appendChild(officeInput);\nform.appendChild(ageInput);\nform.appendChild(salaryInput);\nform.appendChild(submitButton);\ndocument.body.appendChild(form);\n\nfunction createLabeledInputField(\n  labelText, fieldType, nameAtr, data) {\n  const label = document.createElement('label');\n\n  label.textContent = labelText;\n\n  const inputField = document.createElement('input');\n\n  inputField.setAttribute('type', fieldType);\n  inputField.setAttribute('name', nameAtr);\n  inputField.setAttribute('data-qa', data);\n  inputField.setAttribute('required', '');\n\n  label.appendChild(inputField);\n\n  return label;\n}\n\nfunction createSelectField(labelText, nameAtr, data, options) {\n  const labelForSelect = document.createElement('label');\n  const selectList = document.createElement('select');\n\n  labelForSelect.textContent = labelText;\n  selectList.setAttribute('name', nameAtr);\n  selectList.setAttribute('data-qa', data);\n  selectList.setAttribute('required', '');\n\n  Array.from(options).forEach(optionText => {\n    const option = document.createElement('option');\n\n    option.textContent = optionText;\n    option.value = optionText;\n    selectList.appendChild(option);\n  });\n\n  labelForSelect.appendChild(selectList);\n\n  return labelForSelect;\n}\n\nfunction showNotification(title, description, className) {\n  const notification = document.createElement('div');\n\n  notification.setAttribute('data-qa', 'notification');\n  notification.classList.add('notification', className);\n\n  const notificationTitle = document.createElement('h2');\n\n  notificationTitle.textContent = title;\n  notification.appendChild(notificationTitle);\n\n  const notificationDescription = document.createElement('p');\n\n  notificationDescription.textContent = description;\n  notification.appendChild(notificationDescription);\n\n  document.body.appendChild(notification);\n\n  setTimeout(() => {\n    notification.remove();\n  }, 3000);\n}\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const newName = document.querySelector('[name = \\'name\\']').value;\n  const position = document.querySelector('[name = \\'position\\']').value;\n  const office = document.querySelector('[name = \\'select\\']').value;\n  const age = parseInt(document.querySelector('[name = \\'age\\']').value);\n  const salary\n  = parseFloat(document.querySelector('[name = \\'salary\\']').value);\n\n  if (newName.length < 4 || (age < 18 || age > 90)) {\n    showNotification('Title of Error message', 'Message example.\\n '\n    + 'Notification should contain title and description.', 'error');\n\n    return;\n  }\n\n  const newRow = document.createElement('tr');\n  const nameCell = document.createElement('td');\n\n  nameCell.textContent = newName;\n  newRow.appendChild(nameCell);\n\n  const positionCell = document.createElement('td');\n\n  positionCell.textContent = position;\n  newRow.appendChild(positionCell);\n\n  const officeCell = document.createElement('td');\n\n  officeCell.textContent = office;\n  newRow.appendChild(officeCell);\n\n  const ageCell = document.createElement('td');\n\n  ageCell.textContent = age;\n  newRow.appendChild(ageCell);\n\n  const salaryCell = document.createElement('td');\n\n  salaryCell.textContent = '$' + Math.abs(salary).toLocaleString();\n  newRow.appendChild(salaryCell);\n\n  tbody.appendChild(newRow);\n\n  showNotification('Title of Success message', 'Message example.\\n '\n  + 'Notification should contain title and description.', 'success');\n\n  form.reset();\n});\n\ntbody.addEventListener('dblclick', (e) => {\n  if (editedCell) {\n    return;\n  }\n\n  const targetCell = e.target;\n  const originalText = targetCell.textContent;\n\n  targetCell.textContent = '';\n\n  const input = document.createElement('input');\n\n  input.classList.add('cell-input');\n  input.value = originalText;\n\n  input.addEventListener('blur', () => saveCellChanges(input, originalText));\n\n  input.addEventListener('keypress', (ev) => {\n    if (ev.key === 'Enter') {\n      ev.preventDefault();\n      saveCellChanges(input, originalText);\n    }\n  });\n\n  targetCell.appendChild(input);\n  input.focus();\n  editedCell = input;\n});\n\nfunction saveCellChanges(input, originalText) {\n  const editedValue = input.value.trim();\n\n  if (editedValue === '') {\n    input.value = originalText;\n  } else {\n    input.parentElement.textContent = editedValue;\n  }\n\n  editedCell = null;\n}\n"]}